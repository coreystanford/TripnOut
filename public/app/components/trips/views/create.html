<h1>Make a New Trip</h1>

<form accept-charset="utf-8" id="createTripForm">

	<input type="hidden" ng-model="tripdata.author" value="{{ user_id }}">

	<div>
		<div id="details">

			<md-input-container>
			    <label>Title</label>
				<input type="text" ng-model="tripdata.title" required>
		    </md-input-container>

		    <md-input-container>
			    <label>Description</label>
			    <textarea ng-model="tripdata.description" columns="1" md-maxlength="250" required></textarea>
		    </md-input-container>

			<md-select placeholder="Select a Country" ng-model="tripdata.country">
		    	<md-option ng-repeat="country in countries" value="{{country}}">{{country}}</md-option>
		    </md-select>

		    <div class="form-group">
			    <p>Make this trip searchable through the homepage?</p>
			    <md-switch ng-model="tripdata.public_trip" aria-label="Switch 1" ng-change="onChange(tripdata.public_trip)">
					{{ publicMsg }}
				</md-switch>
			</div>

			<div class="form-group">
				<label>Add a Thumbnail</label>
				<div flow-init flow-files-submitted="$flow.upload()">
					<div ng-class="dropClass" flow-drop ng-if="!$flow.files[0]" flow-drag-enter="dropClass = 'drop drag-over'" flow-drag-leave="dropClass='drop'">
					    <span class='uploadBtn' flow-btn>Upload File</span> <strong>OR</strong> Drag And Drop your file here
					</div>
					<div ng-if="$flow.files[0]">
						<img flow-img="$flow.files[0]" />
						<span style="display:none" ng-init="tripdata.thumbnail = $flow.files[0].name"></span>
					</div>
				</div>
			</div>

		</div>
		<div id="content">
			
		</div>

		<div class="form-group center">

			<div ng-show="displayButton">
				<md-button class="md-raised addSectionBtn" ng-click="showOptions()">Add Section</md-button>
			</div>

		</div>

		<div class="form-group center">

			<div ng-hide="displayButton">
				<md-button addsection datatype="text" ng-click="showOptions()" class="md-raised">Add a Text Area</md-button>
				<md-button addsection datatype="image" ng-click="showOptions()" class="md-raised">Add an Image</md-button>
				<md-button addsection datatype="video" ng-click="showOptions()" class="md-raised">Embed a Video</md-button>
			</div>

		</div>

		<div class="form-group center">

			<md-button class="md-raised submitBtn" ng-click="createTrip()">Create Trip</md-button>

		</div>

	</div>

	<br><br><br>
	{{ tripdata }}

</form>